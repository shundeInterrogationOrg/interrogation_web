(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1328f7f7"],{"3cda":function(t,e,a){"use strict";var l=a("a799"),i=a.n(l);i.a},a799:function(t,e,a){},ad8f:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var l=a("b775");function i(t){return Object(l["a"])({url:"/table/list",method:"get",params:t})}},d1fb:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"table-toolbar"},[a("el-col",{attrs:{span:10}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.doAdd("add")}}},[t._v("添加模版")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.copyModule}},[t._v("复制模版")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.deleteAll}},[t._v("删除")])],1),t._v(" "),a("el-col",{staticClass:"searchStyle",attrs:{span:5}},[a("span",[t._v("案件类型:")]),t._v(" "),a("el-input",{attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"案件类型名称",clearable:""},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._v(" "),a("el-col",{staticClass:"searchStyle",attrs:{span:5}},[a("span",[t._v("审讯模板:")]),t._v(" "),a("el-input",{attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"审讯模板名称",clearable:""},model:{value:t.trialName,callback:function(e){t.trialName=e},expression:"trialName"}})],1),t._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",size:"small",data:t.tableData,"tooltip-effect":"dark","header-row-class-name":"headStyle"},on:{"row-click":t.toQuestion,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"traidName",label:"审讯模板名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"案件类别"}}),t._v(" "),a("el-table-column",{attrs:{label:"更新时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.date))]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"}},[t._v("发布")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.stopPropagation(),t.handleClick(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper",total:t.total},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"案件信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"审讯模版名称","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.traidName,callback:function(e){t.$set(t.form,"traidName",e)},expression:"form.traidName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"案件类别","label-width":t.formLabelWidth}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择",autocomplete:"off"},model:{value:t.traidType,callback:function(e){t.traidType=e},expression:"traidType"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.value,value:t.value}})})),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.doSure}},[t._v("确 定")])],1)],1)],1)},i=[],n=(a("ac6a"),a("7f7f"),a("28a5"),a("ad8f")),o={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{type:"add",list:null,listLoading:!0,searchValue:"",trialName:"",traidType:[],tableData:[{traidName:"酒驾、无证驾驶及伪造车牌号码审讯模板",date:"2016-05-03",name:"二次酒驾、无证驾驶、伪造车牌号码",address:"二次酒驾、无证驾驶、伪造车牌号码"},{date:"2016-05-02",name:"醉酒驾驶",traidName:"醉酒驾驶",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"盗窃(行政)",traidName:"盗窃(行政)",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-01",name:"盗窃(刑事)",traidName:"盗窃(刑事)",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-08",name:"赌博(行政)",traidName:"赌博(行政)",address:"上海市普陀区金沙江路 1518 弄"}],options:[{value:"二次酒驾"},{value:"醉酒驾驶"},{value:"无证驾驶"},{value:"伪造车牌号码"},{value:"盗窃(行政)"},{value:"盗窃(刑事)"},{value:"赌博(行政)"}],multipleSelection:[],currentPage:1,total:30,dialogFormVisible:!1,form:{name:""},formLabelWidth:"100px"}},created:function(){this.fetchData()},mounted:function(){this.getDay()},methods:{handleClick:function(t){this.type="updata",this.dialogFormVisible=!0,this.form.traidName=t.traidName,this.traidType=t.name.split("、")},fetchData:function(){var t=this;this.listLoading=!0,Object(n["a"])().then((function(e){t.list=e.data.items,t.listLoading=!1}))},handleSelectionChange:function(t){this.multipleSelection=t},onSearch:function(){},doAdd:function(){this.dialogFormVisible=!0,Object.assign(this.form,{}),this.traidType=[],this.type="add"},deleteAll:function(){var t=this;0===this.multipleSelection.length?this.$message("请选择要删除的信息"):(this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$message({type:"success",message:"删除成功!"}),t.multipleSelection.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})),t.multipleSelection=[]})).catch((function(){t.$message({type:"info",message:"已取消删除"})})),console.log(this.multipleSelection))},copyModule:function(){var t=this;0===this.multipleSelection.length?this.$message("请选择要复制的模板"):this.multipleSelection.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e);var a={};Object.assign(a,e),a.traidName=a.traidName+" 复制",a.date=t.getDay(),t.tableData.push(a)}))},handleCurrentChange:function(t){this.currentPage=t},doSure:function(){if("add"===this.type){var t={};t.traidName=this.form.traidName,t.name=this.traidType.join("、"),t.date=this.getDay(),this.tableData.push(t)}},toQuestion:function(t){this.$router.push({name:"Question",params:t})},getDay:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,l=t.getDate(),i=t.getHours(),n=t.getMinutes(),o=t.getSeconds();return a<10&&(a="0"+a),l<10&&(l="0"+l),i<10&&(i="0"+i),n<10&&(n="0"+n),o<10&&(o="0"+o),"".concat(e,"-").concat(a,"-").concat(l," ").concat(i,":").concat(n,":").concat(o)}}},s=o,r=(a("3cda"),a("2877")),c=Object(r["a"])(s,l,i,!1,null,"32d93913",null);e["default"]=c.exports}}]);