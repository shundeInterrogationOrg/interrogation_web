(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-373bde36"],{"16ed":function(e,t,a){"use strict";var n=a("5c05"),s=a.n(n);s.a},"5c05":function(e,t,a){},a27e:function(e,t,a){"use strict";var n=a("f753"),s=a.n(n),i=a("64f3");s.a.defaults.headers.common["Cache-Control"]="no-cache, no-store, must-revalidate",s.a.defaults.headers.common["Pragma"]="no-cache",s.a.defaults.headers.common["Expires"]=0;var r={baseURL:"/interrogation"},o=s.a.create(r);o.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){var t=e,a=t.status,n=t.statusText;if(200===a)return t;if(500===a)return i["Message"].error(n),Promise.reject(n);if(4e3===a){var s=t.data;localStorage.removeItem("isLogin"),localStorage.removeItem("userInfo");var r=encodeURIComponent(window.location.href);return window.location.href="".concat(s,"&&relayState=").concat(r),Promise.reject(t)}}),(function(e){return i["Message"].error("请求出错:".concat(e)),Promise.reject(e)})),t["a"]=o},d71b:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o}));var n=a("a27e"),s=function(e){return n["a"].post("/modelCategory/queryPage",e)},i=function(e){return n["a"].post("/modelCategory/update",e)},r=function(e){return n["a"].post("/modelCategory/add",e)},o=function(e){return n["a"].post("/modelCategory/delete",e)}},fc72:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-manage "},[a("el-row",{staticClass:"table-toolbar"},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"temp-title"},[a("div",{staticClass:"toolBtn"},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.addTemp}},[e._v("添加别类")])],1),e._v(" "),a("div",{staticClass:"toolBtn"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary",icon:"el-icon-picture-outline"},on:{click:e.copyTemp}},[e._v("复制")])],1),e._v(" "),a("div",{staticClass:"toolBtn"},[a("el-button",{staticClass:"el-button--danger",attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:e.handleDelete}},[e._v("删除")])],1)])]),e._v(" "),a("el-col",{staticClass:"searchStyle",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{span:15}},[a("span",{staticStyle:{"font-size":"14px"}},[e._v("模型类别 ")]),e._v(" "),a("el-input",{staticStyle:{width:"240px","margin-right":"10px"},attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"模型类别名称",clearable:""},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"temp-list"},[a("el-table",{staticClass:"template-list",staticStyle:{width:"100%"},attrs:{data:e.tempList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"模型类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.editing?a("div",[a("el-input",{attrs:{placeholder:"请填写模型类别"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})],1):a("div",[a("span",[e._v(e._s(t.row.name))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否使用中"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.adding?e._e():a("div",[a("span",[e._v(e._s(0==t.row.use_status?"否":"是"))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operate-groups"},[t.row.editing?e._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit-outline"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),t.row.editing?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-success"},on:{click:function(a){return e.handleSave(t.$index,t.row)}}},[e._v("保存\n            ")]):e._e(),e._v(" "),t.row.editing?a("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-warning"},on:{click:function(a){return e.handleCancel(t.$index,t.row)}}},[e._v("取消\n            ")]):e._e()],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},s=[],i=(a("6d57"),a("cc57"),a("d71b")),r={data:function(){return{flag:!1,searchName:"",currentPage:1,total:null,multipleSelection:[],tempList:[],tempName:"",staOpts:[{value:"0",label:"否"},{value:"1",label:"是"}],use_status:""}},created:function(){this.getData()},methods:{getData:function(){var e=this,t={rows:10,page:this.currentPage,name:this.searchName,status:"1"};Object(i["a"])(t).then((function(t){var a=t.data;e.tempList=a.rows,e.total=a.total}))},handleEdit:function(e,t){0==this.flag&&(this.flag=!0,this.$set(this.tempList[e],"editing",!0),this.$set(this,"tempName",t.name))},handleSave:function(e,t){var a=this;if(t.adding)Object(i["b"])({name:t.name}).then((function(n){var s=n.data;"repeat"==s.status?a.$message({type:"error",message:"模型类别已存在!"}):(a.$message({type:"success",message:"添加成功!"}),a.handleCancel(e,t))})).catch((function(e){a.$message({type:"error",message:"新建模型类别，请填写完全！"})}));else{var n={id:t.id,name:t.name};Object(i["d"])(n).then((function(e){var t=e.data;"repeat"==t.status?a.$message({type:"error",message:"模型类别已存在!"}):(a.$message({type:"success",message:"修改成功!"}),a.flag=!1,a.getData())})).catch((function(e){a.$message({type:"error",message:"修改模型类别，请填写完全！"})}))}},handleCancel:function(e,t){t.adding?(this.$set(this.tempList[e],"editing",!1),this.$set(this.tempList[e],"adding",!1),this.getData()):(this.$set(this.tempList[e],"editing",!1),this.$set(this.tempList[e],"name",this.tempName)),this.flag=!1},addTemp:function(){this.flag=!0,this.tempList=this.tempList||[],this.tempList.push({name:"",editing:!0,adding:!0})},copyTemp:function(){var e=this;this.multipleSelection.length>1?this.$message.info("请选择单一模型类别进行复制"):Object(i["b"])({name:this.multipleSelection[0].name+" 复制"}).then((function(t){var a=t.data;"repeat"==a.status?e.$message({type:"error",message:"模型类别已存在!"}):(e.$message({type:"success",message:"复制成功!"}),e.getData())})).catch((function(e){}))},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.multipleSelection.forEach((function(e){t.push(e.id)})),Object(i["c"])({idList:t}).then((function(t){var a=t.data;"error"==a.status?e.$message({type:"error",message:"模型类别在使用中，删除失败!"}):(e.$message({type:"success",message:"删除成功!"}),e.getData())})).catch((function(t){e.$message({type:"error",message:"服务器响应异常!"})}))})).catch((function(e){}))},onSearch:function(){this.currentPage=1,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()}}},o=r,c=(a("16ed"),a("623f")),l=Object(c["a"])(o,n,s,!1,null,"1d561fe4",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-373bde36.3b9d5b02.js.map