(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c7ca7bc"],{"0826":function(t,e,a){},"80c1":function(t,e,a){"use strict";var n=a("0826"),s=a.n(n);s.a},a27e:function(t,e,a){"use strict";var n=a("f753"),s=a.n(n),i=a("64f3");s.a.defaults.headers.common["Cache-Control"]="no-cache, no-store, must-revalidate",s.a.defaults.headers.common["Pragma"]="no-cache",s.a.defaults.headers.common["Expires"]=0;var r={baseURL:"/interrogation"},o=s.a.create(r);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){var e=t,a=e.status,n=e.statusText;if(200===a)return e;if(500===a)return i["Message"].error(n),Promise.reject(n);if(4e3===a){var s=e.data;localStorage.removeItem("isLogin"),localStorage.removeItem("userInfo");var r=encodeURIComponent(window.location.href);return window.location.href="".concat(s,"&&relayState=").concat(r),Promise.reject(e)}}),(function(t){return i["Message"].error("请求出错:".concat(t)),Promise.reject(t)})),e["a"]=o},d71b:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o}));var n=a("a27e"),s=function(t){return n["a"].post("/modelCategory/queryPage",t)},i=function(t){return n["a"].post("/modelCategory/update",t)},r=function(t){return n["a"].post("/modelCategory/add",t)},o=function(t){return n["a"].post("/modelCategory/delete",t)}},fc72:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-manage "},[a("el-row",{staticClass:"table-toolbar"},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"temp-title"},[a("div",{staticClass:"toolBtn"},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.addTemp}},[t._v("添加别类")])],1),t._v(" "),a("div",{staticClass:"toolBtn"},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary",icon:"el-icon-picture-outline"},on:{click:t.copyTemp}},[t._v("复制")])],1),t._v(" "),a("div",{staticClass:"toolBtn"},[a("el-button",{staticClass:"el-button--danger",attrs:{type:"primary",size:"small",icon:"el-icon-delete"},on:{click:t.handleDelete}},[t._v("删除")])],1)])]),t._v(" "),a("el-col",{staticClass:"searchStyle",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{span:15}},[a("span",{staticStyle:{"font-size":"14px"}},[t._v("模型类别 ")]),t._v(" "),a("el-input",{staticStyle:{width:"240px","margin-right":"10px"},attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"模型类别名称",clearable:""},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onSearch}},[t._v("搜索")])],1)],1),t._v(" "),a("div",{staticClass:"temp-list"},[a("el-table",{staticClass:"template-list",staticStyle:{width:"100%"},attrs:{data:t.tempList},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"模型类别"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.editing?a("div",[a("el-input",{attrs:{placeholder:"请填写模型类别"},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}})],1):a("div",[a("span",[t._v(t._s(e.row.name))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否使用中"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.adding?t._e():a("div",[a("span",[t._v(t._s(0==e.row.use_status?"否":"是"))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operate-groups"},[e.row.editing?t._e():a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit-outline"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑\n            ")]),t._v(" "),e.row.editing?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-success"},on:{click:function(a){return t.handleSave(e.$index,e.row)}}},[t._v("保存\n            ")]):t._e(),t._v(" "),e.row.editing?a("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-warning"},on:{click:function(a){return t.handleCancel(e.$index,e.row)}}},[t._v("取消\n            ")]):t._e()],1)]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},s=[],i=(a("6d57"),a("cc57"),a("d71b")),r={data:function(){return{flag:!1,searchName:"",currentPage:1,total:null,multipleSelection:[],tempList:[],tempName:"",staOpts:[{value:"0",label:"否"},{value:"1",label:"是"}],use_status:""}},created:function(){this.getData()},methods:{getData:function(){var t=this,e={rows:10,page:this.currentPage,name:this.searchName};Object(i["a"])(e).then((function(e){var a=e.data;t.tempList=a.rows,t.total=a.total}))},handleEdit:function(t,e){0==this.flag&&(this.flag=!0,this.$set(this.tempList[t],"editing",!0),this.$set(this,"tempName",e.name))},handleSave:function(t,e){var a=this;if(e.adding)Object(i["b"])({name:e.name}).then((function(n){var s=n.data;"repeat"==s.status?a.$message({type:"error",message:"模型类别已存在!"}):(a.$message({type:"success",message:"添加成功!"}),a.handleCancel(t,e))})).catch((function(t){a.$message({type:"error",message:"新建模型类别，请填写完全！"})}));else{var n={id:e.id,name:e.name};Object(i["d"])(n).then((function(t){var e=t.data;"repeat"==e.status?a.$message({type:"error",message:"模型类别已存在!"}):(a.$message({type:"success",message:"修改成功!"}),a.flag=!1,a.getData())})).catch((function(t){a.$message({type:"error",message:"修改模型类别，请填写完全！"})}))}},handleCancel:function(t,e){e.adding?(this.$set(this.tempList[t],"editing",!1),this.$set(this.tempList[t],"adding",!1),this.getData()):(this.$set(this.tempList[t],"editing",!1),this.$set(this.tempList[t],"name",this.tempName)),this.flag=!1},addTemp:function(){this.flag=!0,this.tempList=this.tempList||[],this.tempList.push({name:"",editing:!0,adding:!0})},copyTemp:function(){var t=this;this.multipleSelection.length>1?this.$message.info("请选择单一模型类别进行复制"):Object(i["b"])({name:this.multipleSelection[0].name+" 复制"}).then((function(e){e.data;t.$message({type:"success",message:"复制成功!"}),t.getData()})).catch((function(t){}))},handleSelectionChange:function(t){this.multipleSelection=t},handleDelete:function(){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=[];t.multipleSelection.forEach((function(t){e.push(t.id)})),Object(i["c"])({idList:e}).then((function(e){var a=e.data;"error"==a.status?t.$message({type:"error",message:"模型类别在使用中，删除失败!"}):(t.$message({type:"success",message:"删除成功!"}),t.getData())})).catch((function(e){t.$message({type:"error",message:"服务器响应异常!"})}))})).catch((function(t){}))},onSearch:function(){this.currentPage=1,this.getData()},handleCurrentChange:function(t){this.currentPage=t,this.getData()}}},o=r,c=(a("80c1"),a("623f")),l=Object(c["a"])(o,n,s,!1,null,"2b54101c",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-3c7ca7bc.3dbf7cec.js.map