(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2af690ad"],{"42ea":function(e,t,n){},a27e:function(e,t,n){"use strict";var a=n("f753"),i=n.n(a),s=n("64f3");i.a.defaults.headers.common["Cache-Control"]="no-cache, no-store, must-revalidate",i.a.defaults.headers.common["Pragma"]="no-cache",i.a.defaults.headers.common["Expires"]=0;var o={baseURL:"/interrogation"},c=i.a.create(o);c.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e,n=t.status,a=t.statusText;if(200===n)return t;if(500===n)return s["Message"].error(a),Promise.reject(a);if(4e3===n){var i=t.data;localStorage.removeItem("isLogin"),localStorage.removeItem("userInfo");var o=encodeURIComponent(window.location.href);return window.location.href="".concat(i,"&&relayState=").concat(o),Promise.reject(t)}}),(function(e){return s["Message"].error("请求出错:".concat(e)),Promise.reject(e)})),t["a"]=c},bd78:function(e,t,n){"use strict";var a=n("42ea"),i=n.n(a);i.a},d71b:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var a=n("a27e"),i=function(e){return a["a"].post("/modelCategory/queryPage",e)},s=function(e){return a["a"].post("/modelCategory/update",e)},o=function(e){return a["a"].post("/modelCategory/add",e)},c=function(e){return a["a"].post("/modelCategory/delete",e)}},fc72:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"template-manage "},[n("el-row",{staticClass:"table-toolbar"},[n("el-col",{attrs:{span:14}},[n("div",{staticClass:"temp-title"},[n("div",{staticClass:"toolBtn"},[n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.addTemp}},[e._v("添加别类")])],1),e._v(" "),n("div",{staticClass:"toolBtn"},[n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-picture-outline"},on:{click:e.copyTemp}},[e._v("复制")])],1)])]),e._v(" "),n("el-col",{staticClass:"searchStyle",staticStyle:{"margin-top":"20px"},attrs:{span:8}},[n("span",{staticStyle:{"font-size":"14px"}},[e._v("模型类别 ")]),e._v(" "),n("el-input",{staticStyle:{width:"240px","margin-right":"10px"},attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"模型类别名称",clearable:""},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1),e._v(" "),n("div",{staticClass:"temp-list"},[n("el-table",{staticClass:"template-list",staticStyle:{width:"100%"},attrs:{data:e.tempList},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{label:"模型类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.editing?n("div",[n("el-input",{attrs:{placeholder:"请填写模型类别"},model:{value:t.row.name,callback:function(n){e.$set(t.row,"name",n)},expression:"scope.row.name"}})],1):n("div",[n("span",[e._v(e._s(t.row.name))])])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"是否使用中"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.adding?e._e():n("div",[n("span",[e._v(e._s(0==t.row.use_status?"否":"是"))])])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"operate-groups"},[t.row.editing?e._e():n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit-outline"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n            ")]),e._v(" "),t.row.editing?n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-success"},on:{click:function(n){return e.handleSave(t.$index,t.row)}}},[e._v("保存\n            ")]):e._e(),e._v(" "),t.row.editing?e._e():n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n            ")]),e._v(" "),t.row.editing?n("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-warning"},on:{click:function(n){return e.handleCancel(t.$index,t.row)}}},[e._v("取消\n            ")]):e._e()],1)]}}])})],1),e._v(" "),n("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},i=[],s=(n("cc57"),n("d71b")),o={data:function(){return{flag:!1,searchName:"",currentPage:1,total:null,multipleSelection:[],tempList:[],tempName:"",staOpts:[{value:"0",label:"否"},{value:"1",label:"是"}],use_status:""}},created:function(){this.getData()},methods:{getData:function(){var e=this,t={rows:10,page:this.currentPage,name:this.searchName};Object(s["a"])(t).then((function(t){var n=t.data;e.tempList=n.rows,e.total=n.total}))},handleEdit:function(e,t){0==this.flag&&(this.flag=!0,this.$set(this.tempList[e],"editing",!0),this.$set(this,"tempName",t.name))},handleSave:function(e,t){var n=this;if(t.adding)Object(s["b"])({name:t.name}).then((function(a){a.data;n.$message({type:"success",message:"添加成功!"}),n.handleCancel(e,t)})).catch((function(e){n.$message({type:"error",message:"新建模型类别，请填写完全！"})}));else{var a={id:t.id,name:t.name};Object(s["d"])(a).then((function(e){e.data;n.$message({type:"success",message:"修改成功!"}),n.flag=!1,n.getData()})).catch((function(e){n.$message({type:"error",message:"修改模型类别，请填写完全！"})}))}},handleCancel:function(e,t){t.adding?(this.$set(this.tempList[e],"editing",!1),this.$set(this.tempList[e],"adding",!1),this.getData()):(this.$set(this.tempList[e],"editing",!1),this.$set(this.tempList[e],"name",this.tempName)),this.flag=!1},addTemp:function(){this.flag=!0,this.tempList=this.tempList||[],this.tempList.push({name:"",editing:!0,adding:!0})},copyTemp:function(){var e=this;this.multipleSelection.length>1?this.$message.info("请选择单一模型类别进行复制"):Object(s["b"])({name:this.multipleSelection[0].name}).then((function(t){t.data;e.$message({type:"success",message:"复制成功!"}),e.getData()})).catch((function(e){}))},deleteTemp:function(){console.log("delete")},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e,t){var n=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["c"])({idList:[t.id]}).then((function(e){e.data;n.$message({type:"success",message:"删除成功!"}),n.getData()})).catch((function(e){n.$message({type:"error",message:"服务器响应异常!"})}))})).catch((function(e){}))},onSearch:function(){this.currentPage=1,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()}}},c=o,r=(n("bd78"),n("623f")),l=Object(r["a"])(c,a,i,!1,null,"87a76ca6",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2af690ad.440ce4de.js.map