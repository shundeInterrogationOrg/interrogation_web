(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-186ac016"],{5047:function(e,t,a){},"9cf5":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return o}));var s=a("a27e"),r=function(e){var t=s["a"].post("/caseClassification/queryPage",e);return t},n=function(e){return s["a"].post("/caseClassification/add",e)},i=function(e){return s["a"].post("/caseClassification/delete",e)},o=function(e){return s["a"].post("/caseClassification/update",e)}},a27e:function(e,t,a){"use strict";var s=a("f753"),r=a.n(s),n=a("64f3");r.a.defaults.headers.common["Cache-Control"]="no-cache, no-store, must-revalidate",r.a.defaults.headers.common["Pragma"]="no-cache",r.a.defaults.headers.common["Expires"]=0;var i={baseURL:"/interrogation"},o=r.a.create(i);o.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){var t=e,a=t.status,s=t.statusText;if(200===a)return t;if(500===a)return n["Message"].error(s),Promise.reject(s);if(4e3===a){var r=t.data;localStorage.removeItem("isLogin"),localStorage.removeItem("userInfo");var i=encodeURIComponent(window.location.href);return window.location.href="".concat(r,"&&relayState=").concat(i),Promise.reject(t)}}),(function(e){return n["Message"].error("请求出错:".concat(e)),Promise.reject(e)})),t["a"]=o},bfdc:function(e,t,a){"use strict";var s=a("5047"),r=a.n(s);r.a},d1fb:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"table-toolbar"},[a("el-col",{attrs:{span:10}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.doAdd("add")}}},[e._v("添加模版")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.copyModule}},[e._v("复制模版")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.deleteAll}},[e._v("删除")])],1),e._v(" "),a("el-col",{staticClass:"searchStyle",attrs:{span:5}},[a("span",[e._v("案件类型:")]),e._v(" "),a("el-input",{attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"案件类型名称",clearable:""},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),a("el-col",{staticClass:"searchStyle",attrs:{span:5}},[a("span",[e._v("审讯模板:")]),e._v(" "),a("el-input",{attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"审讯模板名称",clearable:""},model:{value:e.trialName,callback:function(t){e.trialName=t},expression:"trialName"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"",size:"small",data:e.tableData,"tooltip-effect":"dark","header-row-class-name":"headStyle"},on:{"row-click":e.toQuestion,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"template_name",label:"审讯模板名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"case_name",label:"案件类别"}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.update_time))]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.release_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleStatus(t.row)}}},[e._v("取消发布")]):a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleStatus(t.row)}}},[e._v("发布")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"text",size:"small"},on:{click:function(a){return a.stopPropagation(),e.handleClick(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper",total:e.total},on:{"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"案件信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"审讯模版名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"案件类别","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择",autocomplete:"off"},model:{value:e.traidType,callback:function(t){e.traidType=t},expression:"traidType"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.doSure}},[e._v("确 定")])],1)],1)],1)},r=[],n=(a("cc57"),a("6d57"),a("63ff"),a("57f0")),i=a("a27e"),o=function(e){return i["a"].post("/trialTemplate/queryPage",e)},c=function(e){return i["a"].post("/trialTemplate/add",e)},l=function(e){return i["a"].post("/trialTemplate/delete",e)},u=function(e){return i["a"].post("/trialTemplate/update",e)},m=a("9cf5"),p={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{type:"add",listLoading:!0,searchValue:"",trialName:"",traidType:"",tableData:[],options:[],multipleSelection:[],currentPage:1,total:30,dialogFormVisible:!1,form:{name:""},formLabelWidth:"100px",status:"1"}},created:function(){this.getCaseType(),this.getData()},mounted:function(){},methods:{getCaseType:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={rows:100,page:1,name:"",status:"1"},e.prev=1,e.next=4,Object(m["c"])(t);case 4:a=e.sent,s=a.data,this.options=s.rows,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.options=[];case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),handleClick:function(e){this.type="updata",this.dialogFormVisible=!0,this.form.name=e.template_name,this.form.id=e.id,this.form.release_status=e.release_status,this.traidType=e.case_id,this.form.status=e.status},handleStatus:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={name:t.template_name,case_classification_id:t.case_id,id:t.id,release_status:t.release_status,status:t.status},"1"===t.release_status?a.release_status="0":a.release_status="1",e.prev=2,e.next=5,u(a);case 5:s=e.sent,r=s.data,"sucess"===r.status?(this.$message.success("修改发布状态成功"),this.getData()):this.$message.error("修改发布状态失败"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),this.$message.error("修改发布状态失败");case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}(),getData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={template_name:this.trialName,caseName:this.searchValue,page:this.currentPage,status:this.status,rows:10},this.listLoading=!0,e.prev=2,e.next=5,o(t);case 5:a=e.sent,s=a.data,this.tableData=s.rows,this.total=s.total,this.listLoading=!1,e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](2),this.tableData=[],this.total=0,this.listLoading=!1;case 17:case"end":return e.stop()}}),e,this,[[2,12]])})));function t(){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){this.multipleSelection=e},onSearch:function(){this.currentPage=1,this.getData()},doAdd:function(){this.dialogFormVisible=!0,this.form.name="",this.form.id="",this.form.status="",this.form.release_status="",this.traidType="",this.type="add"},deleteAll:function(){var e=this;0===this.multipleSelection.length?this.$message("请选择要删除的信息"):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e.multipleSelection.forEach((function(e){a.push(e.id)})),s={idList:a},s.status="0",t.prev=4,t.next=7,l(s);case 7:r=t.sent,n=r.data,"sucess"===n.status?(e.$message.success("删除成功"),e.currentPage=1,e.getData()):e.$message.error("删除失败"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),e.$message.error("删除失败");case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))).catch((function(){e.$message({type:"info",message:"已取消删除"}),e.multipleSelection.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})),e.multipleSelection=[]}))},copyModule:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.multipleSelection.length){e.next=4;break}this.$message("请选择要复制的模板"),e.next=23;break;case 4:if(!(this.multipleSelection.length>1)){e.next=8;break}this.$message.info("请选着单一模版进行复制"),e.next=23;break;case 8:return t={},t.name=this.multipleSelection[0].template_name+" 复制",t.case_classification_id=this.multipleSelection[0].case_id,t.status=this.multipleSelection[0].status,e.prev=12,e.next=15,c(t);case 15:a=e.sent,s=a.data,"sucess"===s.status?(this.$message.success("复制审讯模版成功"),this.currentPage=1,this.getData()):this.$message.error("复制审讯模版失败"),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](12),this.$message.error("复制审讯模版失败");case 23:case"end":return e.stop()}}),e,this,[[12,20]])})));function t(){return e.apply(this,arguments)}return t}(),handleCurrentChange:function(e){this.currentPage=e,this.getData()},doSure:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.form.name){e.next=4;break}this.$message.error("模版名称不能为空"),e.next=36;break;case 4:if(""!==this.traidType){e.next=8;break}this.$message.error("案件类别不能为空"),e.next=36;break;case 8:if("add"!==this.type){e.next=23;break}return t={name:this.form.name,case_classification_id:this.traidType,status:"0"},e.prev=10,e.next=13,c(t);case 13:a=e.sent,s=a.data,"sucess"===s.status?(this.$message.success("新增审讯模版成功"),this.currentPage=1,this.getData()):this.$message.error("新增审讯模版失败"),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](10),this.$message.error("新增审讯模版失败");case 21:e.next=35;break;case 23:return r={name:this.form.name,case_classification_id:this.traidType,id:this.form.id,release_status:this.form.release_status,status:this.form.status},e.prev=24,e.next=27,u(r);case 27:n=e.sent,i=n.data,"sucess"===i.status?(this.$message.success("修改审讯模版成功"),this.getData()):this.$message.error("修改审讯模版失败"),e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](24),this.$message.error("修改审讯模版失败");case 35:this.dialogFormVisible=!1;case 36:case"end":return e.stop()}}),e,this,[[10,18],[24,32]])})));function t(){return e.apply(this,arguments)}return t}(),toQuestion:function(e){this.$router.push({name:"Question",params:e})}}},h=p,f=(a("bfdc"),a("623f")),d=Object(f["a"])(h,s,r,!1,null,"30ebb10a",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-186ac016.3d4208d3.js.map