{"version":3,"sources":["webpack:///./src/utils/axios.js","webpack:///./src/views/form/moduleManage.vue?7d3a","webpack:///./src/api/modelCategory.js","webpack:///./src/views/form/moduleManage.vue?d2b5","webpack:///src/views/form/moduleManage.vue","webpack:///./src/views/form/moduleManage.vue?64ed","webpack:///./src/views/form/moduleManage.vue"],"names":["axios","defaults","headers","common","config","baseURL","_axios","create","interceptors","request","use","error","Promise","reject","response","res","status","statusText","Message","data","localStorage","removeItem","params","encodeURIComponent","window","location","href","modelCategory","post","modelCategoryUpdate","modelCategoryAdd","modelCategoryDel","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","addTemp","_v","staticStyle","copyTemp","handleDelete","model","value","callback","$$v","searchName","expression","onSearch","tempList","handleSelectionChange","scopedSlots","_u","key","fn","scope","row","editing","$set","_s","name","adding","_e","use_status","$event","handleEdit","$index","handleSave","handleCancel","total","handleCurrentChange","staticRenderFns","flag","currentPage","multipleSelection","tempName","staOpts","created","getData","methods","id","push","length","$message","info","val","$confirm","confirmButtonText","cancelButtonText","type","idList","component"],"mappings":"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","file":"js/chunk-2ead01b8.2da0d518.js","sourcesContent":["'use strict'\r\n\r\nimport axios from 'axios'\r\nimport { Message } from 'element-ui'\r\n// Full config:  https://github.com/axios/axios#request-config\r\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\r\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\r\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\n// ie get请求不缓存\r\naxios.defaults.headers.common['Cache-Control'] = 'no-cache, no-store, must-revalidate'\r\naxios.defaults.headers.common['Pragma'] = 'no-cache'\r\naxios.defaults.headers.common['Expires'] = 0\r\n// let loadingInstance\r\nconst config = {\r\n  baseURL: '/interrogation'\r\n  // timeout: 60 * 1000, // Timeout\r\n  // withCredentials: true, // Check cross-site Access-Control\r\n}\r\n\r\nconst _axios = axios.create(config)\r\n\r\n_axios.interceptors.request.use(config => {\r\n  // Do something before request is sent\r\n  // if (config.showLoading !== false) {\r\n  //   loadingInstance = Loading.service({ fullscreen: true })\r\n  // }\r\n  return config\r\n}, error => {\r\n  // Do something with request error\r\n  // loadingInstance.close()\r\n  return Promise.reject(error)\r\n})\r\n\r\n// Add a response interceptor\r\n_axios.interceptors.response.use(\r\n  function(response) {\r\n    // if (loadingInstance) {\r\n    //   loadingInstance.close()\r\n    // }\r\n\r\n    const res = response\r\n    const { status, statusText } = res\r\n\r\n    if (status === 200) {\r\n      return res\r\n    } else if (status === 500) {\r\n      Message.error(statusText)\r\n      return Promise.reject(statusText)\r\n    } else if (status === 4000) {\r\n      const { data } = res\r\n      localStorage.removeItem('isLogin')\r\n      localStorage.removeItem('userInfo')\r\n      const params = encodeURIComponent(window.location.href)\r\n      window.location.href = `${data}&&relayState=${params}`\r\n      return Promise.reject(res)\r\n    }\r\n  },\r\n  function(error) {\r\n    // if (loadingInstance) {\r\n    //   loadingInstance.close()\r\n    // }\r\n    // Do something with response error\r\n    Message.error(`请求出错:${error}`)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default _axios\r\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./moduleManage.vue?vue&type=style&index=0&id=5c482600&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./moduleManage.vue?vue&type=style&index=0&id=5c482600&scoped=true&lang=scss&\"","// 数据统计相关接口\r\nimport axios from '@/utils/axios'\r\n\r\n/**\r\n * @dec  获取模型类别\r\n */\r\n\r\nconst modelCategory = function(params) {\r\n  return axios.post('/modelCategory/queryPage', params)\r\n}\r\n\r\nconst modelCategoryUpdate = function(params) {\r\n  return axios.post('/modelCategory/update', params)\r\n}\r\n\r\nconst modelCategoryAdd = function(params) {\r\n  return axios.post('/modelCategory/add', params)\r\n}\r\n\r\nconst modelCategoryDel = function(params) {\r\n  return axios.post('/modelCategory/delete', params)\r\n}\r\n\r\n\r\nexport {\r\n  modelCategory,\r\n  modelCategoryUpdate,\r\n  modelCategoryAdd,\r\n  modelCategoryDel\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"template-manage \"},[_c('el-row',{staticClass:\"table-toolbar\"},[_c('el-col',{attrs:{\"span\":7}},[_c('div',{staticClass:\"temp-title\"},[_c('div',{staticClass:\"toolBtn\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addTemp}},[_vm._v(\"添加别类\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"toolBtn\"},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-picture-outline\"},on:{\"click\":_vm.copyTemp}},[_vm._v(\"复制\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"toolBtn\"},[_c('el-button',{staticClass:\"el-button--danger\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.handleDelete}},[_vm._v(\"删除\")])],1)])]),_vm._v(\" \"),_c('el-col',{staticClass:\"searchStyle\",staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"right\"},attrs:{\"span\":15}},[_c('span',{staticStyle:{\"font-size\":\"14px\"}},[_vm._v(\"模型类别 \")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"240px\",\"margin-right\":\"10px\"},attrs:{\"size\":\"small\",\"prefix-icon\":\"el-icon-search\",\"placeholder\":\"模型类别名称\",\"clearable\":\"\"},model:{value:(_vm.searchName),callback:function ($$v) {_vm.searchName=$$v},expression:\"searchName\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"搜索\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"temp-list\"},[_c('el-table',{staticClass:\"template-list\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tempList},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"模型类别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.editing)?_c('div',[_c('span',[_vm._v(_vm._s(scope.row.name))])]):_c('div',[_c('el-input',{attrs:{\"placeholder\":\"请填写模型类别\"},model:{value:(scope.row.name),callback:function ($$v) {_vm.$set(scope.row, \"name\", $$v)},expression:\"scope.row.name\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否使用中\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.adding)?_c('div',[_c('span',[_vm._v(_vm._s(scope.row.use_status == 0 ? '否' : '是'))])]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate-groups\"},[(!scope.row.editing)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit-outline\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\\n            \")]):_vm._e(),_vm._v(\" \"),(scope.row.editing)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-success\"},on:{\"click\":function($event){return _vm.handleSave(scope.$index, scope.row)}}},[_vm._v(\"保存\\n            \")]):_vm._e(),_vm._v(\" \"),(scope.row.editing)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"icon\":\"el-icon-warning\"},on:{\"click\":function($event){return _vm.handleCancel(scope.$index, scope.row)}}},[_vm._v(\"取消\\n            \")]):_vm._e()],1)]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total,prev, pager, next,jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"template-manage \">\r\n    <el-row class=\"table-toolbar\">\r\n      <el-col :span=\"7\">\r\n        <div class=\"temp-title\">\r\n          <div class=\"toolBtn\">\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-circle-plus-outline\"\r\n              @click=\"addTemp\">添加别类</el-button>\r\n          </div>\r\n          <div class=\"toolBtn\">\r\n            <el-button\r\n              size=\"small\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-picture-outline\"\r\n              style=\"margin-left:10px\"\r\n              @click=\"copyTemp\"\r\n            >复制</el-button>\r\n          </div>\r\n          <div class=\"toolBtn\">\r\n            <el-button\r\n            type=\"primary\"\r\n            class=\"el-button--danger\"\r\n            size=\"small\"\r\n            @click=\"handleDelete\"\r\n            icon=\"el-icon-delete\">删除</el-button>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"15\" class=\"searchStyle\" style=\"margin-top:20px;text-align: right;\">\r\n        <span style=\"font-size:14px;\">模型类别&nbsp;</span>\r\n        <el-input\r\n          v-model=\"searchName\"\r\n          size=\"small\"\r\n          style=\"width:240px;margin-right:10px\"\r\n          prefix-icon=\"el-icon-search\"\r\n          placeholder=\"模型类别名称\"\r\n          clearable\r\n        />\r\n        <el-button type=\"primary\" size=\"small\" @click=\"onSearch\">搜索</el-button>\r\n      </el-col>\r\n\r\n    </el-row>\r\n\r\n\r\n    <div class=\"temp-list\">\r\n      <el-table\r\n        class=\"template-list\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        :data=\"tempList\"\r\n        style=\"width: 100%\">\r\n        <el-table-column type=\"selection\" width=\"55\" />\r\n        <el-table-column label=\"模型类别\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"!scope.row.editing\">\r\n              <span>{{ scope.row.name }}</span>\r\n            </div>\r\n            <div v-else>\r\n              <el-input v-model=\"scope.row.name\" placeholder=\"请填写模型类别\"></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"是否使用中\">\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"!scope.row.adding\">\r\n              <span>{{ scope.row.use_status == 0 ? '否' : '是' }}</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"operate-groups\">\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                v-if=\"!scope.row.editing\"\r\n                icon=\"el-icon-edit-outline\"\r\n                @click=\"handleEdit(scope.$index, scope.row)\">编辑\r\n              </el-button>\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                v-if=\"scope.row.editing\"\r\n                icon=\"el-icon-success\"\r\n                @click=\"handleSave(scope.$index, scope.row)\">保存\r\n              </el-button>\r\n              <!-- <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                v-if=\"!scope.row.editing\"\r\n                icon=\"el-icon-delete\"\r\n                @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n              </el-button> -->\r\n              <el-button\r\n                size=\"mini\"\r\n                type=\"warning\"\r\n                v-if=\"scope.row.editing\"\r\n                icon=\"el-icon-warning\"\r\n                @click=\"handleCancel(scope.$index, scope.row)\">取消\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n      </el-table>\r\n      <el-pagination\r\n        background\r\n        layout=\"total,prev, pager, next,jumper\"\r\n        :total=\"total\"\r\n        @current-change=\"handleCurrentChange\"\r\n      />\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { modelCategory, modelCategoryUpdate, modelCategoryAdd, modelCategoryDel } from '@/api/modelCategory'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      flag: false,\r\n      searchName: '',\r\n      currentPage: 1, // 当前页\r\n      total: null,\r\n      multipleSelection: [],\r\n      tempList: [],\r\n      tempName: \"\",\r\n      staOpts: [{\r\n         value: '0',\r\n         label: '否'\r\n       }, {\r\n         value: '1',\r\n         label: '是'\r\n       }],\r\n       use_status: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getData()\r\n  },\r\n  methods: {\r\n\r\n    // 数据初使化\r\n    getData() {\r\n      const params = {\r\n        'rows': 10,\r\n        'page': this.currentPage,\r\n        'name': this.searchName\r\n      }\r\n      modelCategory(params).then(({ data }) => {\r\n        this.tempList = data.rows\r\n        this.total = data.total\r\n      })\r\n    },\r\n\r\n    // 编辑\r\n    handleEdit($index, row) {\r\n      if (this.flag == false) {\r\n        this.flag = true\r\n        this.$set(this.tempList[$index], 'editing', true)\r\n        this.$set(this, 'tempName', row.name)\r\n      }else {\r\n        return\r\n      }\r\n    },\r\n\r\n    // 保存\r\n    handleSave($index, row) {\r\n      if (!row.adding) {\r\n        const params = {\r\n          'id': row.id,\r\n          'name': row.name\r\n        }\r\n        modelCategoryUpdate(params).then(({ data }) => {\r\n          this.$message({type: 'success', message: '修改成功!'})\r\n          this.flag = false\r\n          this.getData()\r\n        })\r\n        .catch(error => {\r\n          this.$message({type: 'error', message: '修改模型类别，请填写完全！'})\r\n        })\r\n      }else {\r\n        modelCategoryAdd({\"name\": row.name}).then(({ data }) => {\r\n          this.$message({type: 'success', message: '添加成功!'})\r\n          this.handleCancel($index, row)\r\n        })\r\n        .catch(error => {\r\n          this.$message({type: 'error', message: '新建模型类别，请填写完全！'})\r\n        })\r\n      }\r\n    },\r\n\r\n    // 取消\r\n    handleCancel($index, row) {\r\n      if (row.adding) {\r\n        this.$set(this.tempList[$index], 'editing', false)\r\n        this.$set(this.tempList[$index], 'adding', false)\r\n        this.getData()\r\n      }else {\r\n        this.$set(this.tempList[$index], 'editing', false)\r\n        this.$set(this.tempList[$index], 'name', this.tempName)\r\n      }\r\n      this.flag = false\r\n    },\r\n\r\n    // 新增\r\n    addTemp() {\r\n      this.flag = true\r\n      this.tempList = this.tempList || []\r\n      this.tempList.push({\r\n        name: '',\r\n        editing: true,\r\n        adding: true\r\n      })\r\n    },\r\n\r\n    // 复制\r\n    copyTemp() {\r\n      if (this.multipleSelection.length > 1) {\r\n        this.$message.info('请选择单一模型类别进行复制')\r\n      } else {\r\n        modelCategoryAdd({\"name\": this.multipleSelection[0].name + \" 复制\"}).then(({ data }) => {\r\n          this.$message({type: 'success', message: '复制成功!'})\r\n          this.getData()\r\n        }).catch(error => {})\r\n\r\n      }\r\n    },\r\n\r\n    //多选\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val\r\n    },\r\n\r\n    // 删除\r\n    // handleDelete($index, row) {\r\n    //   this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n    //     confirmButtonText: '确定',\r\n    //     cancelButtonText: '取消',\r\n    //     type: 'warning'\r\n    //   }).then(() => {\r\n    //     modelCategoryDel({\"idList\": [row.id]}).then(({ data }) => {\r\n    //       this.$message({type: 'success', message: '删除成功!'})\r\n    //       this.getData()\r\n    //     })\r\n    //     .catch(error => {\r\n    //       this.$message({type: 'error', message: '服务器响应异常!'})\r\n    //     })\r\n    //   }).catch(err => {})\r\n    // },\r\n\r\n    // 删除\r\n    handleDelete(){\r\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        const idList = []\r\n        this.multipleSelection.forEach(row => {\r\n          idList.push(row.id)\r\n        })\r\n        modelCategoryDel({\"idList\": idList}).then(({ data }) => {\r\n          if (data.status == \"error\") {\r\n            this.$message({type: 'error', message: '模型类别在使用中，删除失败!'})\r\n          }else {\r\n            this.$message({type: 'success', message: '删除成功!'})\r\n            this.getData()\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$message({type: 'error', message: '服务器响应异常!'})\r\n        })\r\n      }).catch(err => {})\r\n    },\r\n\r\n    onSearch() {\r\n      this.currentPage = 1\r\n      this.getData()\r\n    },\r\n\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.getData()\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .template-manage {\r\n    width: 80%;\r\n    margin: 0 auto;\r\n    .temp-title {\r\n      justify-content: space-between;\r\n      height: 30px;\r\n      margin-top: 20px;\r\n      .toolBtn{display: inline-block}\r\n    }\r\n    .el-table {\r\n      background-color: #f7f7f7;\r\n      margin-top: 20px;\r\n      th>.cell {\r\n        text-align: center !important;\r\n      }\r\n    }\r\n    .operate-groups {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      .upAndDown {\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-left: 10px;\r\n        .el-button--mini {\r\n          padding: 0;\r\n          width: 30px;\r\n          margin-left: 0;\r\n        }\r\n        .down {\r\n          margin-top: 2px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .template-manage >>> .el-table__header-wrapper .el-checkbox{display: none}\r\n  .el-pagination {height: 44px;display: flex;justify-content: flex-end;align-items: center;}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./moduleManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/index.js??vue-loader-options!./moduleManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./moduleManage.vue?vue&type=template&id=5c482600&scoped=true&\"\nimport script from \"./moduleManage.vue?vue&type=script&lang=js&\"\nexport * from \"./moduleManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./moduleManage.vue?vue&type=style&index=0&id=5c482600&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c482600\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}